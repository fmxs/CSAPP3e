![Snipaste_2022-12-08_14-01-59](https://user-images.githubusercontent.com/65701532/206369655-b52023a3-938f-4489-8c4c-3a57a3716779.png)

#####################################################################
#CS： APP数据实验室
#指导教师
#
#2011年5月31日：现在包括“击败教授”竞赛
#
#版权所有（c）2002-2018，R. Bryant和D. O'Hallron
######################################################################

此目录包含运行CS： APP数据实验室所需的文件，这有助于培养学生对位表示、二补码算法和IEEE浮点数的理解。

为了好玩，我们还提供了一个新的基于用户级HTTP的“击败教授”竞赛，取代了旧的基于电子邮件的版本。新的竞赛是完全独立的，不需要root密码。唯一的要求是你在Linux机器上有一个IP地址的用户帐户。

系统要求：使用bison和flex构建dlc。

************
1.概述
************

在本实验中，学生们研究一个名为bit. c的C文件，该文件由一系列编程“谜题”组成。每个谜题都是一个空函数体，必须完成才能实现指定的数学函数，例如“绝对值”。学生必须仅使用直线C代码和一组受限的C算术和逻辑运算符来解决非浮点谜题。对于浮点谜题，他们可以使用条件和任意运算符。

学生使用以下三种工具检查他们的工作。教师使用相同的工具来分配成绩。

1. dlc：一个“数据实验室编译器”，检查bit. c中的每个函数是否符合编码指南，检查学生使用的运算符少于最大数量，检查他们仅使用直线代码，检查他们仅使用合法运算符。实验室包含源代码和Linux二进制文件。

2. btest：一个测试工具，用于检查bit. c中的函数是否正确。该工具已得到显着改进，现在检查整数和浮点表示形式（如0、Tmin、denorm范数边界和inf）周围的宽范围边缘情况。

3.driver.pl：一个自动分级驱动程序，使用dlc和btest检查bit. c中每个测试函数的正确性和遵守编码指南

实验室的默认版本由15个谜题组成，在./src/selections.c中，从目录./src/puzzles/中定义的73个标准谜题中选择。您可以通过从标准谜题集中选择不同的谜题集来逐项自定义实验室。

您还可以定义自己的新谜题并将其添加到标准集。有关如何将新谜题添加到标准集的说明，请参阅./src/README。

注意：如果您定义了新的谜题，请将它们发送给我（Dave O'Hallron，droh@cs.cmu.edu），以便我可以将它们添加到数据实验室发行版中的标准谜题集中。

********
2.档案
********

所有CS： APP实验室都具有相同的简单顶级目录结构：
Makefile	构建整个实验室。
README	这个文件。
src/	包含实验室的所有源文件。
datalab-handout/	发给学生的datalab-handout/Handout目录。
通过./src中Makefile生成。在这个目录中永远不要修改任何东西

grade/	自动评分脚本，教师可以使用这些脚本对学生的手进行评分。
writeup/	乳胶实验室记录。
contest/	可选的，“击败教授”竞赛所需的一切。

********************
3.建设实验室
*******************

第0步。如果您决定运行“击败教授”竞赛（第5节），那么编辑./contest/Contest.pm文件，以便驱动程序知道将结果发送到哪里。有关简单说明，请参阅./contest/README。如果您决定*不*提供竞赛，则在此步骤中什么也不做。

步骤1.通过编辑文件./src/selections.c.选择您想要包含的谜题。

默认的./src/selections.c来自CMU上一个Data Lab实例。文件./src/selections-all.c 包含可供选择的谜题的完整列表。

第2步。修改./writeup/datalab.tex中的乳胶实验室写作，为您的课程量身定制。

步骤3.在当前目录中键入以下内容：
unix> make clean
unix> make

Makefile生成btest源文件，构建dlc二进制文件（如果需要），格式化实验写入文件，然后将btest、dlc二进制文件和驱动程序复制到讲义目录。之后，它构建讲义目录的tarfile（在./datalab-handout.tar），然后您可以将其分发给学生。

二进制可移植性注意：dlc作为二进制文件分布在datalab-handout目录中。由于动态库的不同版本，Linux二进制文件并不总是可以跨发行版移植。您需要小心在与学生将使用的机器兼容的机器上编译dlc。

注意：运行make也会自动生成谜题的答案，您可以在./src/bit. c和./src/bit. c-olution中找到。

******************
4.实验室分级
******************

有一个方便的自动评分脚本可以自动为学生的手评分。有关说明，请参阅./等级/README。

**************************
5.“击败教授”竞赛
**************************

为了好玩，我们增加了一个可选的“击败教授”竞赛，学生们在比赛中与自己和老师竞争。目标是使用最少数量的操作员解决每个数据实验室难题。在每个谜题中匹配或击败老师操作员计数的学生是获胜者。有关如何设置竞赛的简单说明，请参阅./竞赛/README。

注意：竞赛是完全可选的。您是否决定提供它不会影响您如何构建和分发实验室。

注意：如果您决定提供竞赛，那么您应该在*构建实验室之前*配置竞赛，以便驱动程序知道发送每个学生竞赛结果的服务器和端口（使用./src/Driverhdrs.pm文件中定义的常量，该文件是从./竞赛/Contest.pm配置文件自动生成的）。

如果你决定在你建造并向学生分发实验室后提供竞赛，你仍然可以：

1）按照竞赛/Makefile中的描述配置竞赛

2）以通常的方式重建实验室：
linux>cd datalab
linux>制作

3）将新的./src/Driverhdrs.pm文件分发给学生。


***************************
6.实验性BDD检查器
***************************

为了好玩，我们包含了一个基于二进制决策图（BDD）的实验正确性检查器（R. E. Bryant，IEEE计算机上的交易，1986年8月），它使用科罗拉多大学的CUDD BDD包。BDD检查器对bits. c中的测试函数进行详尽的测试，针对*ALL*可能的输入值正式验证每个测试函数的正确性。对于与参考解决方案不同的函数，BDD检查器以一组函数参数的形式生成反例，这些参数导致测试解决方案与参考解决方案不同。

源代码包含在./src/bddcheck中。要编译：

unix>cd src/bddcheck
unix>使干净
unix>make

要使用BDD检查./src/bit. c的正确性：

unix>cd src
带有错误消息和反例的unix>./bddcheck/check.pl#
unix>./bddcheck/check.pl-g#紧凑的表格输出，没有错误消息

请注意，check.pl必须从./bddcheck的父目录运行。

几年来，我们一直在CMU使用这个BDD检查器而不是btest，代码看起来很稳定。主要的弱点在于从bit. c中提取函数的Perl代码。它通常可以正常工作，但是有些事情——比如对其他函数的调用，或者不以大括号结尾的函数——会混淆它。所以我们不愿意让它成为分布式CS： APP实验室的默认检查器。但是，如果你对特定解决方案的正确性有任何疑问，那么这是权威的决定方式。

请将有关BDD检查器的任何评论发送给randy.bryant@cs.cmu.edu。
